// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "./generated/client"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Account {
  id                         String      @id @default(auto()) @map("_id") @db.ObjectId
  stripeId                   String?     @unique
  membershipId               String?     @db.ObjectId
  firstName                  String
  lastName                   String
  email                      String      @unique
  password                   String
  online                     Boolean     @default(false)
  type                       AccountType
  companyRegisterationNumber String?
  verified                   Boolean     @default(false)
  idVerified                 Boolean     @default(false)
  createdAt                  DateTime    @default(now())
  updatedAt                  DateTime    @updatedAt()
}

model UserIdenityVerificationRequest {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  userId    String   @unique @db.ObjectId

  compeleted   Boolean @default(false)
  accepted     Boolean @default(false)
  acceptedById String? @db.ObjectId

  firstName   String
  lastName    String
  fullAddress String
  dateOfBirth DateTime
  id_front    String
  id_back     String
  VVCPicture  String?
  VVC         String
}

model UserAccountVerificationRequest {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  userId    String   @unique @db.ObjectId

  compeleted   Boolean @default(false)
  accepted     Boolean @default(false)
  acceptedById String? @db.ObjectId

  username   String
  fullName   String
  knownAs    String
  categoryId String
  idPhoto    String
}

enum AccountType {
  admin
  seller
  buyer
}
